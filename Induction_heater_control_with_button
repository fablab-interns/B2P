int relayPin = 6;       // Pin controlling the relay
int switchPin = 7;      // Pin connected to the switch
int switchState = 0;    // Variable to store the switch state
 
void setup() {
  pinMode(relayPin, OUTPUT);        // Set relay pin as output
  pinMode(switchPin, INPUT_PULLUP); // Set switch pin as input with internal pull-up resistor
  digitalWrite(relayPin, LOW);      // Initially, the relay is off
}
 
void loop() {
  switchState = digitalRead(switchPin); // Read the state of the switch
  // Check if the switch is pressed (LOW because of internal pull-up)
  if (switchState == LOW) {
    digitalWrite(relayPin, HIGH);  // Turn on the relay (power the load)
    delay(10000);                  // Wait for 10 seconds
    digitalWrite(relayPin, LOW);   // Turn off the relay (cut power to load)
  }
}



--------------------------------------------
const int relayPin = 6;       // Pin controlling the relay
const int switchPin = 7;      // Pin connected to the switch
bool relayActive = false;     // Flag to track if relay is active
unsigned long relayStartTime; // To store when the relay was activated

void setup() {
  pinMode(relayPin, OUTPUT);        // Set relay pin as output
  pinMode(switchPin, INPUT_PULLUP); // Set switch pin as input with internal pull-up resistor
  digitalWrite(relayPin, LOW);      // Ensure relay is off at startup
  delay(100);                       // Short delay for system stabilization
}

void loop() {
  static unsigned long lastDebounceTime = 0;
  static int lastSwitchState = HIGH;
  int switchState = digitalRead(switchPin);

  // Debounce logic
  if (switchState != lastSwitchState) {
    lastDebounceTime = millis();
  }

  if ((millis() - lastDebounceTime) > 50) { // 50ms debounce delay
    if (switchState == LOW && !relayActive) {
      relayActive = true;
      relayStartTime = millis();
      digitalWrite(relayPin, HIGH);
    }
  }

  // Check if 10 seconds have passed
  if (relayActive && (millis() - relayStartTime >= 10000)) {
    relayActive = false;
    digitalWrite(relayPin, LOW);
  }

  lastSwitchState = switchState;
}
